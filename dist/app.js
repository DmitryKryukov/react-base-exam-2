(()=>{"use strict";var e={99:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(81),o=n.n(r),a=n(645),i=n.n(a)()(o());i.push([e.id,'html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:rgba(0,0,0,0)}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button}button::-moz-focus-inner,[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}body{font-family:"Roboto Flex",sans-serif;font-optical-sizing:auto;font-variation-settings:"slnt" 0,"wdth" 100,"GRAD" 0,"XOPQ" 96,"XTRA" 468,"YOPQ" 79,"YTAS" 750,"YTDE" -203,"YTFI" 738,"YTLC" 514,"YTUC" 712}:root{--background-body: #f2f2f2;--background-base: #fff;--background-card: #ededed;--background-ghost: #f2f2f2;--foreground-body: #000;--foreground-muted: #808080;--foreground-inverted: #fff;--foreground-light-const: #fff;--foreground-dark-const: #000;--accent-primary: #0057FF;--accent-primary:color(display-p3 0 0.3333 1);--accent-danger: #FF7033;--accent-danger: color(display-p3 1 0.44 0.2);--modal-overlay: #000000CC;--container-padding: 16px;--ease-out-quint: cubic-bezier(0.22, 1, 0.36, 1)}@media(prefers-color-scheme: dark){:root{--background-body: #000;--background-base: #131313;--background-card: #212121;--background-ghost: #303030;--foreground-body: #fff;--foreground-inverted: #000;--accent-primary: #4F78FE;--accent-primary: color(display-p3 0.3098 0.4706 0.9961);--accent-danger: #CC3D00;--accent-danger: color(display-p3 0.8 0.24 0)}}*{box-sizing:border-box;outline:none}h1,h2,h3,h4,h5,h6{margin:0}html{transition:background-color var(--ease-out-quint) .3s}html:has(.modal-wrapper--open){background-color:var(--modal-overlay)}html,body{scrollbar-gutter:stable;color-scheme:light}@media(prefers-color-scheme: dark){html,body{color-scheme:dark}}body{display:flex;flex-direction:column;min-height:100lvh;background-color:var(--background-body);color:var(--foreground-body);font-size:24px;line-height:1;overflow-x:hidden}body:has(.modal-wrapper--open){overflow:hidden}fieldset{padding:0;margin:0;border:none}input{font-family:inherit}input::placeholder{color:var(--foreground-muted);opacity:1;letter-spacing:0}textarea{resize:none}input[type=number]{letter-spacing:.1em}input[type=number]::-webkit-outer-spin-button,input[type=number]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=date]::-webkit-calendar-picker-indicator{position:absolute;top:0;left:0;right:0;bottom:0;width:auto;height:auto;color:rgba(0,0,0,0);background:rgba(0,0,0,0)}input[type=date]{position:relative}input[type=date]::-webkit-inner-spin-button,input[type=date]::-webkit-clear-button{z-index:-10}.button{position:relative;display:flex;background-color:rgba(0,0,0,0);border:none;cursor:pointer;padding:16px;border-radius:12px}.button--add-expense{--shortcut-right: 60px;justify-content:space-between;background-color:var(--background-base);color:var(--accent-primary);border-radius:28px 28px 0 0;border-bottom:1px solid var(--background-ghost);box-shadow:0 -32px 0 var(--background-body);text-align:left;z-index:1;transition:background-color var(--ease-out-quint) .3s}.button--add-expense:hover,.button--add-expense:focus{background-color:var(--background-card);transition:none}.button--wide{width:100%}.button--primary{justify-content:center;padding:12px 32px;background-color:var(--accent-primary);color:var(--foreground-light-const);transition:filter .3s var(--ease-out-quint)}.button--primary:hover,.button--primary:focus{transition:none;filter:brightness(0.8) contrast(1.2)}.button__shortcut{position:absolute;right:var(--shortcut-right, 16px);top:50%;translate:0 -50%;pointer-events:none}.button--expense-action{padding:0;opacity:.5}.input{font-family:inherit;padding:6px 0 6px;background-color:var(--background-card);color:var(--foreground-body);border-radius:12px;border:none;text-indent:8px;transition:background-color .3s var(--ease-out-quint)}.input:focus{transition:none;background-color:var(--background-ghost)}.input--large{font-size:64px}.input--wide{width:100%}.input--textarea{text-indent:initial;padding:6px 8px;scrollbar-width:thin}.input--error{outline:1px solid var(--accent-danger)}.chip__input{appearance:none;display:none}.chip{position:relative;padding:6px 8px;background-color:var(--background-card);border-radius:12px;font-size:20px;white-space:nowrap;cursor:pointer;overflow:hidden}.chip:hover{background-color:var(--background-ghost)}.chip--vertical{display:flex;flex-direction:column;align-items:center;padding:10px 12px 12px;gap:8px;font-size:12px}.chip--vertical .chip__icon{width:32px;height:32px}.chip:has(.chip__input:checked){background-color:var(--background-ghost);color:var(--active-color, var(--foreground-body));cursor:initial}.chip--expense:has(.chip__input:checked){filter:contrast(1.15) saturate(1.15)}.chip--expense:has(.chip__input:checked)::after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background-color:var(--active-color, #333);opacity:.2;mix-blend-mode:multiply;pointer-events:none}@media(prefers-color-scheme: dark){.chip--expense:has(.chip__input:checked){filter:contrast(1.35)}.chip--expense:has(.chip__input:checked)::after{background-color:var(--active-color, #afafaf);opacity:.3;mix-blend-mode:color-dodge}}.main-header{display:flex;justify-content:space-between;align-items:center;gap:12px;padding:12px 24px 12px 12px;z-index:2}@media(max-width: 1150px){.main-header{flex-direction:column;padding:12px}}.main-header__logotype-wrapper{width:500px}@media(max-width: 1150px){.main-header__logotype-wrapper{justify-content:center}}.main-header__filters-wrapper{justify-content:center;width:calc(100% + 32px);padding-bottom:12px;overflow:auto}.main-header__expense-groups-wrapper{padding:0 16px}.main-header__user-wrapper{justify-content:end;align-items:center;width:500px;gap:8px;color:var(--accent-primary)}@media(max-width: 1150px){.main-header__user-wrapper{display:none !important}}.main-header__user-name{margin-bottom:4px;white-space:nowrap}.main-wrapper{min-height:100lvh}.main-content-wrapper{display:flex;justify-content:center;flex:1;padding:12px 12px 0}@media(max-width: 1150px){.main-content-wrapper{padding-top:0}}.main-content{display:flex;flex-direction:column;width:min(500px,100%);min-height:100%;background-color:var(--background-base);border-radius:28px 28px 0 0}.zero-state{justify-content:center;align-items:center;padding:12px 16px 16px;flex:1;gap:16px;color:var(--foreground-muted)}.zero-state__title{margin-top:-4px;font-size:24px;font-weight:400;line-height:1.1}.main-content:has(.zero-state) .button--add-expense{border-bottom:none}.main-header__expense-groups-set{gap:8px}.expenses-wrapper{justify-content:start;padding:0;margin:0;flex:1;overflow:hidden}.expense{--expense-tint-color: var(--foreground-body);position:relative;gap:8px;height:49px;list-style:none;background-color:var(--background-base);color:var(--foreground-body);translate:var(--drag-item-x, 0) 0;cursor:pointer;user-select:none;transition:background-color var(--ease-out-quint) .3s,color var(--ease-out-quint) .3s,translate var(--ease-out-quint) var(--transition-time),height var(--ease-out-quint) .15s}.expense:not(:first-child){border-bottom:1px solid var(--background-base)}@media(prefers-color-scheme: dark){.expense:not(:first-child){border-bottom:1px solid var(--background-card)}}.expense:hover{transition:translate var(--ease-out-quint) var(--transition-time),height var(--ease-out-quint) .15s}.expense:hover .expense-info{background-color:var(--background-card);color:var(--accent-color, var(--foreground-body))}.expense:hover .expense-action-wrapper{pointer-events:initial;opacity:1}.expense:hover .expense__value{transition:none}.expense:hover .expense-actions-wrapper{opacity:1;transition:none}.expense::before{content:"← Смахни, чтобы удалить";position:absolute;display:flex;align-items:center;justify-content:end;top:0;left:0;bottom:0;right:0;padding-right:16px;font-size:16px;background-color:var(--accent-danger);color:var(--foreground-body);translate:calc(var(--drag-item-x, 0)*-1) 0;transition:background-color var(--ease-out-quint) .3s,translate var(--ease-out-quint) var(--transition-time);z-index:-1;overflow:hidden}.expense::after{content:"";position:absolute;top:0;left:0;right:0;bottom:0px;background-color:var(--accent-color, var(--foreground-body));opacity:.05;mix-blend-mode:multiply;pointer-events:none}@media(prefers-color-scheme: dark){.expense::after{opacity:.15;mix-blend-mode:soft-light}}.expense--collapse{height:0px}.expense--collapse::before{background-color:#000}.expense-info{justify-content:space-between;align-items:center;gap:8px;flex:1;padding:12px 16px 12px 12px;background-color:var(--background-base);color:var(--foreground-body)}.expense-category{position:relative;align-items:center;gap:4px;padding:4px 8px 4px 6px;border-radius:8px;background-color:var(--background-body);mix-blend-mode:multiply;opacity:1;overflow:hidden}@media(prefers-color-scheme: dark){.expense-category{mix-blend-mode:normal;background-color:var(--background-card);opacity:.8}}.expense-category::after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background-color:var(--accent-color, var(--background-ghost));opacity:.5;mix-blend-mode:soft-light;pointer-events:none}.expense-category__icon{width:16px;height:16px}.expense-category__name{font-size:16px;color:var(--accent-color, var(--foreground-muted));white-space:nowrap}.expense-actions-wrapper{align-items:center;gap:8px;margin-left:auto;opacity:0;transition:opacity var(--ease-out-quint) .3s}.expense-action{padding:4px}.expense-action__icon{opacity:.5;height:24px}.expense__value{margin-bottom:-3px;font-size:24px;letter-spacing:.1em;font-weight:400;line-height:1.1;white-space:nowrap;transition:color var(--ease-out-quint) .3s}.expense__value:after{content:" ₽"}.expense-group{display:flex;flex-direction:column-reverse}.expense-group .expense:first-of-type{border-color:rgba(0,0,0,0)}.expense-group-name{justify-content:space-between;order:1;padding:16px 16px 12px 12px}.expense-group:not(:last-child) .expense-group-name{padding-top:32px}.expense-group-name__text{padding:4px 8px;background-color:var(--background-ghost);color:var(--foreground-body);font-size:16px;font-weight:400;text-align:center;border-radius:8px}.expense-group-name__text::first-letter{text-transform:uppercase}.expense-group-name__value{color:var(--foreground-muted);letter-spacing:.1em}.expense-group-name__value:after{content:" ₽"}.modal-wrapper{position:fixed;justify-content:center;align-items:end;width:100vw;height:100lvh;z-index:3;pointer-events:none;overflow:hidden}.modal-wrapper--open{pointer-events:initial}.modal-wrapper--open .modal-wrapper__overlay{background-color:var(--modal-overlay)}.modal-wrapper--open .modal{translate:0 0}.modal-wrapper__overlay{position:absolute;width:100%;height:100%;background-color:rgba(0,0,0,0);z-index:-1;transition:all .3s var(--ease-out-quint);cursor:pointer}.modal-container{--drag-modal-y: 0;width:min(560px,100%);translate:0 var(--drag-modal-y);transition:translate var(--ease-out-quint) var(--transition-time)}.modal{padding:0 16px;height:calc(100lvh - 200px);background-color:var(--background-base);border-radius:28px 28px 0 0;overflow:hidden;translate:0 100%;transition:translate .3s var(--ease-out-quint)}.modal-header{position:relative;margin-right:-14px;padding-top:16px;padding-bottom:16px;align-items:center}.modal__title{flex:1;font-size:24px;line-height:1;font-weight:500}.modal__button-close{position:absolute;right:0;padding:16px;background-color:rgba(0,0,0,0);border:none;border-radius:50%;cursor:pointer}.modal__button-close:hover,.modal__button-close:focus{background-color:var(--background-body)}.modal-content{gap:16px}.modal-content-group{gap:8px}.modal-wrapped-group{grid-template-columns:repeat(auto-fill, minmax(100px, 1fr));padding:8px 0;gap:8px}.modal-content-toogle-group{display:flex;align-items:center;margin-bottom:8px}.modal-footer{align-items:end;height:100%;padding-bottom:16px}.hide{display:none}.flex{display:flex}.row{flex-direction:initial}.row-reverse{flex-direction:row-reverse}.column{flex-direction:column}.column-reverse{flex-direction:column-reverse}.wrap{flex-wrap:wrap}.grid{display:grid}.sticky-top{position:sticky;top:0}.dragging{cursor:grabbing}.scroll-container{width:calc(100% + var(--scroll-container-width-compensation, 32px));margin-left:var(--scroll-container-margin-left, -16px);margin-right:var(--scroll-container-margin-left, -16px);overflow:auto}',""]);const s=i},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var p=this[s][0];null!=p&&(i[p]=!0)}for(var d=0;d<e.length;d++){var c=[].concat(e[d]);r&&i[c[0]]||(void 0!==a&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=a),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),t.push(c))}},t}},81:e=>{e.exports=function(e){return e[1]}},273:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var r=n(379),o=n.n(r),a=n(795),i=n.n(a),s=n(569),p=n.n(s),d=n(565),c=n.n(d),l=n(216),u=n.n(l),h=n(589),m=n.n(h),g=n(99),f={};f.styleTagTransform=m(),f.setAttributes=c(),f.insert=p().bind(null,"head"),f.domAPI=i(),f.insertStyleElement=u(),o()(g.Z,f);const v=g.Z&&g.Z.locals?g.Z.locals:void 0},379:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},i=[],s=0;s<e.length;s++){var p=e[s],d=r.base?p[0]+r.base:p[0],c=a[d]||0,l="".concat(d," ").concat(c);a[d]=c+1;var u=n(l),h={css:p[1],media:p[2],sourceMap:p[3],supports:p[4],layer:p[5]};if(-1!==u)t[u].references++,t[u].updater(h);else{var m=o(h,r);r.byIndex=s,t.splice(s,0,{identifier:l,updater:m,references:1})}i.push(l)}return i}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var s=n(a[i]);t[s].references--}for(var p=r(e,o),d=0;d<a.length;d++){var c=n(a[d]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}a=p}}},569:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},433:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.expenseCategories=void 0,t.expenseCategories=[{id:"cat-none",name:"Без категории",iconSrc:"assets/icon-category-none.svg",color:""},{id:"cat-purchase",name:"Покупки",iconSrc:"assets/icon-category-purchase.svg",color:"#00991A"},{id:"cat-food",name:"Еда",iconSrc:"assets/icon-category-food.svg",color:"#B57800"},{id:"cat-transport",name:"Транспорт",iconSrc:"assets/icon-category-transport.svg",color:"#B57800"},{id:"cat-medicine",name:"Медицина",iconSrc:"assets/icon-category-medicine.svg",color:"#2C98E1"},{id:"cat-entertainment",name:"Развлечение",iconSrc:"assets/icon-category-entertainment.svg",color:"#C700A9"},{id:"cat-culture",name:"Культура",iconSrc:"assets/icon-category-culture.svg",color:"#00991A"},{id:"cat-sport",name:"Спорт и фитнес",iconSrc:"assets/icon-category-sport.svg",color:"#CA1E00"},{id:"cat-beauty",name:"Красота",iconSrc:"assets/icon-category-beauty.svg",color:"#C700A9"},{id:"cat-travel",name:"Путешествия",iconSrc:"assets/icon-category-travel.svg",color:"#00991A"},{id:"cat-home",name:"Дом и быт",iconSrc:"assets/icon-category-home.svg",color:"#B57800"},{id:"cat-education",name:"Образование",iconSrc:"assets/icon-category-education.svg",color:"#2C98E1"},{id:"cat-pet",name:"Животные",iconSrc:"assets/icon-category-pet.svg",color:"#CA1E00"},{id:"cat-communication",name:"Связь",iconSrc:"assets/icon-category-communication.svg",color:"#2C98E1"},{id:"cat-gift",name:"Подарки",iconSrc:"assets/icon-category-gift.svg",color:"#C700A9"},{id:"cat-taxes",name:"Налоги",iconSrc:"assets/icon-category-taxes.svg",color:"#CA1E00"}]},690:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExpenseListItem=void 0;var r=n(85),o=n(8),a=n(619),i=function(){function e(e,t){this.isDragging=!1,this.isCanEdit=!0,this.startX=0,this.currentX=0,this.deleteThreshold=200,this.expense=e,this.dragStartHandler=this.onDragStart.bind(this),this.dragHandler=this.onDrag.bind(this),this.dragEndHandler=this.onDragEnd.bind(this),this.dragEventsHandlers=[{event:"mousedown",handler:this.dragStartHandler},{event:"touchstart",handler:this.dragStartHandler},{event:"mousemove",handler:this.dragHandler},{event:"touchmove",handler:this.dragHandler},{event:"mouseup",handler:this.dragEndHandler},{event:"touchend",handler:this.dragEndHandler},{event:"mouseleave",handler:this.dragEndHandler}],this.handleAfterTransitionToStay=this.afterTransitionToStay.bind(this),this.handleAfterTransitionToDelete=this.afterTransitionToDelete.bind(this),this.renderExpense(t)}return e.prototype.renderExpense=function(e){var t=this;(0,r.renderTemplate)("#template-expense",e,(function(e){var n=e.querySelector(".expense"),r=e.querySelector(".expense__value"),a=e.querySelector(".expense-category__icon"),i=e.querySelector(".expense-category__name");n.style.setProperty("--accent-color",t.expense.category.color),r.textContent=(0,o.formatNumberByDigits)(t.expense.value),a.src=t.expense.category.iconSrc,a.alt=t.expense.category.name,i.textContent=t.expense.category.name,t.rootNode=n,t.bindEvents()}))},e.prototype.bindEvents=function(){this.rootNode.addEventListener("click",this.dispatchOpenModalExpense.bind(this)),this.bindDragEvents()},e.prototype.bindDragEvents=function(){var e=this;this.dragEventsHandlers.forEach((function(t){var n=t.event,r=t.handler;e.rootNode.addEventListener(n,r)}))},e.prototype.unbindDragEvents=function(){var e=this;this.dragEventsHandlers.forEach((function(t){var n=t.event,r=t.handler;e.rootNode.removeEventListener(n,r)}))},e.prototype.onDragStart=function(e){var t=this;this.rootNode.style.setProperty("--transition-time","0"),this.rootNode.classList.add("dragging"),this.isDragging=!0,setTimeout((function(){t.isCanEdit=!1}),100),this.startX="touches"in e?e.touches[0].clientX:e.clientX},e.prototype.onDrag=function(e){this.isDragging&&(this.currentX=Math.min(0,("touches"in e?e.touches[0].clientX:e.clientX)-this.startX),this.rootNode.style.setProperty("--drag-item-x","".concat(this.currentX,"px")))},e.prototype.onDragEnd=function(){var e=this;this.rootNode.classList.remove("dragging");var t=Math.abs(this.currentX);if(t>this.deleteThreshold)this.rootNode.style.setProperty("--transition-time","0.3s"),this.rootNode.style.setProperty("--drag-item-x","-100%"),this.rootNode.addEventListener("transitionend",this.handleAfterTransitionToDelete);else{this.rootNode.style.setProperty("--drag-item-x","0");var n=(0,a.linearInterpolation)(0,this.deleteThreshold,.3*t);this.rootNode.style.setProperty("--transition-time","".concat(n,"s")),this.rootNode.addEventListener("transitionend",this.handleAfterTransitionToStay)}setTimeout((function(){e.isCanEdit=!0}),100),this.isDragging=!1},e.prototype.afterTransitionToStay=function(e){"translate"===e.propertyName&&(this.isCanEdit=!0,this.rootNode.removeEventListener("transitionend",this.handleAfterTransitionToStay))},e.prototype.afterTransitionToDelete=function(e){"translate"===e.propertyName&&(this.unbindDragEvents(),this.rootNode.removeEventListener("transitionend",this.handleAfterTransitionToDelete),this.dispatchDelete())},e.prototype.dispatchOpenModalExpense=function(){if(this.isCanEdit){var e=new CustomEvent("openExpensesModal",{detail:{expense:this.expense}});document.dispatchEvent(e)}this.isDragging=!1},e.prototype.dispatchDelete=function(){this.rootNode.classList.add("expense--collapse");var e=new CustomEvent("deleteExpense",{detail:{expense:this.expense}});setTimeout((function(){document.dispatchEvent(e)}),150)},e}();t.ExpenseListItem=i},584:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExpenseManager=void 0;var r=n(672),o=n(433),a=n(991),i=function(){function e(){this.expenses=[],this.loadExpenses()}return e.prototype.addExpense=function(e){this.expenses.push(e),this.saveExpenses()},e.prototype.editExpense=function(e){this.expenses=this.expenses.map((function(t){return t.id===e.id?e:t})),this.saveExpenses()},e.prototype.deleteExpense=function(e){this.expenses=this.expenses.filter((function(t){return t!==e})),this.saveExpenses()},e.prototype.saveExpenses=function(){localStorage.setItem("expenses",JSON.stringify(this.expenses))},e.prototype.getExpenses=function(){return this.expenses},e.prototype.getCategoryByID=function(e){return o.expenseCategories.find((function(t){return t.id===e}))||null},e.prototype.loadExpenses=function(){var e=new r.DataLoader("expenses",a.isValidExpenseType.bind(this),this.createExpenseFromParsedData.bind(this),this.errorLoadingExpenses.bind(this)).loadFromLocalStorage();e&&(this.expenses=e)},e.prototype.createExpenseFromParsedData=function(e){return{id:e.id,value:e.value,category:e.category,date:new Date(e.date)}},e.prototype.errorLoadingExpenses=function(){alert("Всё сломалось, шеф!")},e}();t.ExpenseManager=i},65:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.ExpenseModal=void 0;var a=n(433),i=n(662),s=n(85),p=n(384),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.openModalExpense=function(e){this.expense=e||null,this.openModal()},t.prototype.initializeModalElements=function(){e.prototype.initializeModalElements.call(this),this.updateElements(),this.renderCategories(),this.resetModal(),this.elements.buttonMainButtonText.textContent="Добавить расход",this.expense&&this.populateModal()},t.prototype.initializeModalEvents=function(){e.prototype.initializeModalEvents.call(this),this.handleMainExpenseEvent=this.handleMainExpenseAction.bind(this)},t.prototype.bindEvents=function(){e.prototype.bindEvents.call(this),this.elements.buttonMainButton.addEventListener("click",this.handleMainExpenseEvent)},t.prototype.afterOpen=function(){e.prototype.afterOpen.call(this),this.elements.inputExpenseValue.focus()},t.prototype.afterClose=function(){e.prototype.afterClose.call(this),this.elements.buttonMainButton.removeEventListener("click",this.handleMainExpenseEvent)},t.prototype.updateElements=function(){this.elements={buttonMainButton:this.modalElement.querySelector("#js-button-modal-expense"),buttonMainButtonText:this.modalElement.querySelector(".button__text"),inputExpenseValue:this.modalElement.querySelector("#js-input-expense-value"),inputExpenseDate:this.modalElement.querySelector("#js-input-expense-date"),wrapperCategories:this.modalElement.querySelector("#js-modal-categories-wrapper")}},t.prototype.renderCategories=function(){var e=this;this.elements.wrapperCategories.innerHTML="";var t=!0;a.expenseCategories.forEach((function(n){(0,s.renderTemplate)("#template-expense-category",e.elements.wrapperCategories,(function(e){var r=e.querySelector(".chip"),o=e.querySelector(".chip__input"),a=e.querySelector(".chip__text"),i=e.querySelector(".chip__icon");o.value=n.id,o.checked=t,a.textContent=n.name,r.style.setProperty("--active-color",n.color||""),n.iconSrc?i.src=n.iconSrc:i.remove(),t=!1}))}))},t.prototype.populateModal=function(){this.expense&&(this.elements.inputExpenseValue.value=this.expense.value.toString(),this.elements.inputExpenseDate.value=(0,p.formatDate)(this.expense.date),this.elements.wrapperCategories.querySelector(".chip__input[value='".concat(this.expense.category.id,"']")).checked=!0,this.elements.buttonMainButtonText.textContent="Редактировать!")},t.prototype.resetModal=function(){this.elements.inputExpenseValue.value="";var e=new Date;this.elements.inputExpenseDate.value=(0,p.formatDate)(e)},t.prototype.handleMainExpenseAction=function(e){if(this.expense){this.expense.value=Number(this.elements.inputExpenseValue.value),this.expense.date=(0,p.parseFormattedDate)(this.elements.inputExpenseDate.value);var t=this.elements.wrapperCategories.querySelector(".chip__input:checked").value;this.expense.category=a.expenseCategories.find((function(e){return e.id===t})),this.dispatchEditExpenseEvent(this.expense)}else this.dispatchCreateExpenseEvent(Number(this.elements.inputExpenseValue.value),this.elements.wrapperCategories.querySelector(".chip__input:checked").value,(0,p.parseFormattedDate)(this.elements.inputExpenseDate.value));this.closeModal()},t.prototype.handleKeyPress=function(t){e.prototype.handleKeyPress.call(this,t),t.shiftKey&&"Enter"===t.key&&(this.handleMainExpenseEvent(t),t.preventDefault())},t.prototype.dispatchCreateExpenseEvent=function(e,t,n){var r=new CustomEvent("createExpense",{detail:{expenseValue:e,expenseCategoryID:t,expenseDate:n}});document.dispatchEvent(r)},t.prototype.dispatchEditExpenseEvent=function(e){var t=new CustomEvent("editExpense",{detail:{expense:e}});document.dispatchEvent(t)},t}(i.DraggableModal);t.ExpenseModal=d},604:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InterfaceManager=void 0;var r=n(136),o=n(690),a=n(8),i=n(384),s=n(85),p=function(){function e(){var e=this;this.expensesWrapperNode=document.querySelector("#js-expenses-wrapper"),this.groupsWrapperNode=document.querySelector("#js-groups-wrapper"),this.updateElements(),this.elements.buttonAddNewExpense.addEventListener("click",(function(){return e.dispatchOpenModalExpense()})),this.renderHeaderGroupsFilter()}return e.prototype.renderExpenses=function(e,t){var n=this;if(this.expensesWrapperNode.innerHTML="",this.expenseListItems=[],e&&0!==e.length){var o={day:function(e){return(0,i.relativeTimeFormat)(e.day,"force")},month:function(e){return(0,i.formatMonthYear)(e.month)},year:function(e){return String(e.year)},category:function(e){return e.category.name}};if(t){var a=(0,r.groupExpenses)(e,t),s=o[t];s&&this.renderGroupOfExpenses(a,s)}else e.forEach((function(e){return n.renderExpenseListItem(e,n.expensesWrapperNode)}))}else this.renderZeroState()},e.prototype.renderGroupOfExpenses=function(e,t){var n=this;e.forEach((function(e){var r=0,o=document.createElement("div");o.className="expense-group",n.expensesWrapperNode.appendChild(o),(0,s.renderTemplate)("#template-expense-group-name",o,(function(a){a.querySelector(".expense-group-name__text").textContent=t(e),e.expenses.forEach((function(e){n.renderExpenseListItem(e,o),r+=e.value}))})),o.querySelector(".expense-group-name__value").textContent=(0,a.formatNumberByDigits)(r)}))},e.prototype.renderExpenseListItem=function(e,t){var n=new o.ExpenseListItem(e,t);this.expenseListItems.push(n)},e.prototype.renderZeroState=function(){(0,s.renderTemplate)("#template-expenses-zero-state",this.expensesWrapperNode)},e.prototype.renderHeaderGroupsFilter=function(){var e=this,t=!0;[{name:"по дням",value:"day"},{name:"по месяцам",value:"month"},{name:"по годам",value:"year"},{name:"по категории",value:"category"}].forEach((function(n){(0,s.renderTemplate)("#template-expense-group",e.groupsWrapperNode,(function(r){var o=r.querySelector(".chip__input"),a=r.querySelector(".chip__text");o.value=n.value,o.checked=t,a.textContent=n.name,o.addEventListener("change",(function(){e.dispatchChangeGroupExpense(o.value)})),t=!1}))}))},e.prototype.updateElements=function(){this.elements={buttonAddNewExpense:document.querySelector("#js-button-add-new-expense")}},e.prototype.dispatchOpenModalExpense=function(){var e=new CustomEvent("openExpensesModal",{detail:{expense:null}});document.dispatchEvent(e)},e.prototype.dispatchChangeGroupExpense=function(e){var t=new CustomEvent("changeExpensesGroup",{detail:{value:e}});document.dispatchEvent(t)},e}();t.InterfaceManager=p},672:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DataLoader=void 0;var n=function(){function e(e,t,n,r){this.key=e,this.validate=t,this.onSuccess=n,this.onError=r}return e.prototype.loadFromLocalStorage=function(){var e=localStorage.getItem(this.key);if(!e)return null;try{var t=JSON.parse(e);return this.validateParsedData(t),t.map(this.onSuccess)}catch(e){return this.onError(e),console.error('Ошибка загрузки данных из localStorage для ключа "'.concat(this.key,'":'),e),null}},e.prototype.validateParsedData=function(e){var t=this;if(!Array.isArray(e))throw new Error("Загруженные данные — не массив");e.forEach((function(e){if(!t.validate(e))throw new Error("Ошибка валидации данных: ".concat(e))}))},e}();t.DataLoader=n},991:(e,t)=>{function n(e){return"string"==typeof e.id&&"string"==typeof e.name&&("string"==typeof e.iconSrc||null===e.iconSrc)&&"string"==typeof e.color}Object.defineProperty(t,"__esModule",{value:!0}),t.isValidExpenseCategoryType=t.isValidExpenseType=void 0,t.isValidExpenseType=function(e){return"string"==typeof e.id&&"number"==typeof e.value&&e.value>=0&&n(e.category)&&!isNaN(new Date(e.date).getTime())},t.isValidExpenseCategoryType=n},662:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.DraggableModal=void 0;var a=n(871),i=n(619),s=function(e){function t(t){var n=e.call(this)||this;return n.isDragging=!1,n.startY=0,n.currentY=0,n.closeThreshold=null!=t?t:window.innerHeight/4,n.dragEventsHandlers=[{event:"mousedown",handler:n.onDragStart.bind(n)},{event:"touchstart",handler:n.onDragStart.bind(n)},{event:"mousemove",handler:n.onDrag.bind(n)},{event:"touchmove",handler:n.onDrag.bind(n)},{event:"mouseup",handler:n.onDragEnd.bind(n)},{event:"touchend",handler:n.onDragEnd.bind(n)},{event:"mouseleave",handler:n.onDragEnd.bind(n)}],n}return o(t,e),t.prototype.beforeOpen=function(){e.prototype.beforeOpen.call(this),this.resetDrag()},t.prototype.updateBasicElements=function(){e.prototype.updateBasicElements.call(this),this.modalDragHandler=this.modalWrapperElement.querySelector("#js-modal-drag-handler")},t.prototype.bindEvents=function(){e.prototype.bindEvents.call(this),this.bindDragEvents()},t.prototype.bindDragEvents=function(){var e=this;this.dragEventsHandlers.forEach((function(t){var n=t.event,r=t.handler;e.modalWrapperElement.addEventListener(n,r)}))},t.prototype.unbindDragEvents=function(){var e=this;this.dragEventsHandlers.forEach((function(t){var n=t.event,r=t.handler;e.modalWrapperElement.removeEventListener(n,r)}))},t.prototype.afterClose=function(){e.prototype.afterClose.call(this),this.unbindDragEvents()},t.prototype.resetDrag=function(){this.modalDragHandler.style.setProperty("--drag-modal-y","0"),this.currentY=0},t.prototype.getClientY=function(e){return"touches"in e?e.touches[0].clientY:e.clientY},t.prototype.onDragStart=function(e){this.modalDragHandler.style.setProperty("--transition-time","0s"),this.modalDragHandler.classList.add("dragging"),this.isDragging=!0,this.startY=this.getClientY(e)},t.prototype.onDrag=function(e){this.isDragging&&(this.currentY=Math.max(0,this.getClientY(e)-this.startY),this.modalDragHandler.style.setProperty("--drag-modal-y","".concat(this.currentY,"px")))},t.prototype.onDragEnd=function(){if(this.isDragging){var e=Math.abs(this.currentY);if(e>this.closeThreshold)this.closeModal();else{var t=.3*(0,i.linearInterpolation)(0,this.closeThreshold,e);this.modalDragHandler.style.setProperty("--transition-time","".concat(t,"s")),this.resetDrag()}this.modalDragHandler.classList.remove("dragging"),this.isDragging=!1}},t}(a.Modal);t.DraggableModal=s},871:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Modal=void 0;var r=n(85),o=function(){function e(){var e=this;this.isOpen=!1,this.mainWrapperElement=document.querySelector("#main-wrapper"),this.modalWrapperElement=document.querySelector("#modal-wrapper"),this.modalOverlayElement=this.modalWrapperElement.querySelector(".modal-wrapper__overlay"),this.handleKeyPressEvent=this.handleKeyPress.bind(this),this.handleAfterOpen=function(){return e.afterOpen()},this.handleClose=function(){return e.closeModal()},this.handleAfterClose=function(){return e.afterClose()}}return e.prototype.initModal=function(e){(0,r.renderTemplate)(e,this.modalWrapperElement),this.updateBasicElements()},e.prototype.openModal=function(){var e=this;this.beforeOpen(),this.initializeModalElements(),this.initializeModalEvents(),this.bindEvents(),requestAnimationFrame((function(){e.modalWrapperElement.classList.add("modal-wrapper--open")})),this.isOpen=!0},e.prototype.beforeOpen=function(){this.modalWrapperElement.removeAttribute("inert"),this.mainWrapperElement.setAttribute("inert","")},e.prototype.updateBasicElements=function(){this.modalElement=this.modalWrapperElement.querySelector(".modal"),this.modalCloseButtonElement=this.modalWrapperElement.querySelector("#js-button-modal-close")},e.prototype.initializeModalElements=function(){},e.prototype.initializeModalEvents=function(){},e.prototype.bindEvents=function(){this.modalOverlayElement.addEventListener("click",this.handleClose),this.modalCloseButtonElement.addEventListener("click",this.handleClose),this.modalOverlayElement.addEventListener("transitionend",this.handleAfterOpen),document.addEventListener("keyup",this.handleKeyPressEvent)},e.prototype.unbindEvents=function(){this.modalOverlayElement.removeEventListener("click",this.handleClose),this.modalCloseButtonElement.removeEventListener("click",this.handleClose),this.modalOverlayElement.removeEventListener("transitionend",this.handleAfterClose),this.modalOverlayElement.removeEventListener("transitionend",this.handleAfterOpen),document.removeEventListener("keyup",this.handleKeyPressEvent)},e.prototype.afterOpen=function(){this.modalOverlayElement.addEventListener("transitionend",this.handleAfterOpen)},e.prototype.afterClose=function(){this.unbindEvents()},e.prototype.handleKeyPress=function(e){e.preventDefault(),"Escape"===e.key&&this.closeModal()},e.prototype.closeModal=function(){this.isOpen=!1,this.modalWrapperElement.classList.remove("modal-wrapper--open"),this.modalWrapperElement.setAttribute("inert",""),this.mainWrapperElement.removeAttribute("inert"),this.modalOverlayElement.addEventListener("transitionend",this.handleAfterClose)},e}();t.Modal=o},384:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isBeforeNow=t.parseFormattedDate=t.parseFormattedDateTime=t.formatMonthYear=t.formatDateTime=t.formatDate=t.relativeTimeFormat=void 0,t.relativeTimeFormat=function(e,t){var n;void 0===t&&(t=!0);var r=new Date,o=Math.floor((e.getTime()-r.getTime())/1e3),a=new Intl.RelativeTimeFormat("ru",{numeric:"auto"}),i=[{limit:60,unit:"second"},{limit:3600,unit:"minute"},{limit:86400,unit:"hour"},{limit:2592e3,unit:"day"},{limit:31536e3,unit:"month"}],s=Math.abs(o);if("force"===t){var p=s/86400;return p<30?a.format(o<0?-Math.floor(p):Math.ceil(p),"day"):p<365?a.format(o<0?-Math.floor(p/30):Math.ceil(p/30),"month"):a.format(o<0?-Math.floor(p/365):Math.ceil(p/365),"year")}for(var d=0,c=i;d<c.length;d++){var l=c[d],u=l.limit,h=l.unit;if(s<u){var m=(null===(n=i[i.indexOf({limit:u,unit:h})-1])||void 0===n?void 0:n.limit)||1,g=Math.floor(o/(m/(u/m)));return a.format(g,h)}}return a.format(o<0?-Math.floor(s/31536e3):Math.floor(s/31536e3),"year")},t.formatDate=function(e){var t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)},t.formatDateTime=function(e){var t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),o=String(e.getHours()).padStart(2,"0"),a=String(e.getMinutes()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r,"T").concat(o,":").concat(a)},t.parseFormattedDateTime=function(e){var t=e.split("T"),n=t[0],r=t[1],o=n.split("-").map(Number),a=o[0],i=o[1],s=o[2],p=r.split(":").map(Number),d=p[0],c=p[1];return new Date(a,i-1,s,d,c)},t.parseFormattedDate=function(e){var t=new Date,n=t.getHours(),r=t.getMinutes(),o=e.split("-").map(Number),a=o[0],i=o[1],s=o[2];return new Date(a,i-1,s,n,r)},t.isBeforeNow=function(e){return e>new Date},t.formatMonthYear=function(e){var t=e.split("-"),n=t[0],r=t[1],o=parseInt(n,10),a=parseInt(r,10)-1,i=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"];return o===(new Date).getFullYear()?i[a]:"".concat(i[a],", ").concat(o)}},136:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.groupExpenses=void 0;var r=n(433);t.groupExpenses=function(e,t){var n,o=new Map;switch(e.forEach((function(e){var n;switch(t){case"day":n=new Date(e.date).toISOString().split("T")[0];break;case"month":var r=new Date(e.date);n="".concat(r.getFullYear(),"-").concat(String(r.getMonth()+1).padStart(2,"0"));break;case"year":var a=new Date(e.date);n=String(a.getFullYear());break;case"category":n=e.category.id;break;default:throw new Error("Ошибочный ключ.")}o.has(n)||o.set(n,[]),o.get(n).push(e)})),t){case"day":return n=Array.from(o.entries()).map((function(e){var t=e[0],n=e[1];return{day:new Date(t),expenses:n}})),n.sort((function(e,t){return e.day.getTime()-t.day.getTime()})),n;case"month":return(n=Array.from(o.entries()).map((function(e){return{month:e[0],expenses:e[1]}}))).sort((function(e,t){return e.month.localeCompare(t.month)})),n;case"year":return n=Array.from(o.entries()).map((function(e){var t=e[0],n=e[1];return{year:Number(t),expenses:n}})),n.sort((function(e,t){return e.year-t.year})),n;case"category":return n=Array.from(o.entries()).map((function(e){var t=e[0],n=e[1];return{category:r.expenseCategories.find((function(e){return e.id===t})),expenses:n}})),n.sort((function(e,t){return t.category.name.localeCompare(e.category.name)})),n;default:return[]}}},619:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.linearInterpolation=void 0,t.linearInterpolation=function(e,t,n){if(e===t)throw new Error("Минимальное значение не может быть равно максимальному.");return(n-e)/(t-e)}},85:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.renderTemplate=void 0,t.renderTemplate=function(e,t,n){var r=document.querySelector(e);if(r){var o=document.importNode(r.content,!0);n&&n(o);var a="string"==typeof t?document.querySelector(t):t;a?a.append(o):console.error("Не найден контейнер с ID «".concat(t,"»."))}else console.error("Не найден шаблон с ID «".concat(e,"»."))}},8:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatNumberByDigits=void 0,t.formatNumberByDigits=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0,(()=>{n(273);var e=n(604),t=n(584),r=n(65);new(function(){function n(){this.interfaceManager=new e.InterfaceManager,this.expenseManager=new t.ExpenseManager,this.expenseModal=new r.ExpenseModal,this.renderedExpenses=[],this.groupParameter="day",this.expenseManager.loadExpenses(),this.updateRenderedExpenses(),this.bindEvents(),this.expenseModal.initModal("#template-modal-expense")}return n.prototype.bindEvents=function(){var e=this;document.addEventListener("openExpensesModal",(function(t){return e.handleOpenExpesesModal(t)})),document.addEventListener("createExpense",(function(t){return e.handleCreateExpense(t)})),document.addEventListener("editExpense",(function(t){return e.handleEditExpense(t)})),document.addEventListener("deleteExpense",(function(t){return e.handleDeleteExpense(t)})),document.addEventListener("changeExpensesGroup",(function(t){return e.handleChangeExpensesGroup(t)})),document.addEventListener("keyup",(function(t){return e.handleKeyPress(t)}))},n.prototype.updateRenderedExpenses=function(){this.renderedExpenses=this.expenseManager.getExpenses(),this.interfaceManager.renderExpenses(this.renderedExpenses,this.groupParameter)},n.prototype.handleCreateExpense=function(e){var t=e.detail,n=t.expenseValue,r=t.expenseCategoryID,o=t.expenseDate,a={id:Date.now().toString(),value:n,category:this.expenseManager.getCategoryByID(r),date:o};this.expenseManager.addExpense(a),this.updateRenderedExpenses()},n.prototype.handleEditExpense=function(e){var t=e.detail.expense;this.expenseManager.editExpense(t),this.updateRenderedExpenses()},n.prototype.handleDeleteExpense=function(e){var t=e.detail.expense;this.expenseManager.deleteExpense(t),this.updateRenderedExpenses()},n.prototype.handleChangeExpensesGroup=function(e){this.groupParameter=e.detail.value,this.updateRenderedExpenses()},n.prototype.handleOpenExpesesModal=function(e){var t=e.detail.expense;this.expenseModal.openModalExpense(t)},n.prototype.handleKeyPress=function(e){!e.shiftKey||"N"!==e.key&&"Т"!==e.key||this.expenseModal.isOpen||(this.expenseModal.openModalExpense(),e.preventDefault())},n}())})()})();